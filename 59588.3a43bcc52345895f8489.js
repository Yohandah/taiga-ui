"use strict";(self.webpackChunk_taiga_ui_components=self.webpackChunk_taiga_ui_components||[]).push([[59588],{59588:(ie,x,n)=>{n.r(x),n.d(x,{ExampleTuiPreviewModule:()=>ne});var d=n(12057),T=n(12021),E=n(78697),c=n(45305),p=n(19368),m=n(5696),h=n(89570),e=n(74788),S=n(88331),P=n(37159),C=n(79121),y=n(57068),u=n(76189),v=n(10643),M=n(99021);const O=["*"];let f=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tui-preview-title"]],ngContentSelectors:O,decls:1,vars:0,template:function(t,o){1&t&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275projection(0))},styles:["[_nghost-%COMP%]{border-radius:1rem;background:rgba(104,104,104,.96);color:var(--tui-text-01-night);font:var(--tui-font-text-s);display:inline-block;padding:.375rem .75rem}"],changeDetection:0}),i})();var w=n(48882),g=n(4498);const I=["preview"],R=["contentSample"];function $(i,l){1&i&&e.\u0275\u0275element(0,"img",10),2&i&&e.\u0275\u0275property("src",l.polymorpheusOutlet,e.\u0275\u0275sanitizeUrl)}function N(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tui-preview",4),e.\u0275\u0275listener("tuiSwipe",function(a){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onSwipe(a)}),e.\u0275\u0275elementStart(1,"tui-preview-title"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"tui-preview-pagination",5),e.\u0275\u0275listener("indexChange",function(a){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().index=a}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",6),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().delete()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",7),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().download()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",8),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t).$implicit.complete()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,$,1,1,"img",9),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("rotatable",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.title),e.\u0275\u0275advance(1),e.\u0275\u0275property("length",t.length)("index",t.index),e.\u0275\u0275advance(4),e.\u0275\u0275property("polymorpheusOutlet",t.previewContent)}}function b(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275elementStart(1,"h1"),e.\u0275\u0275text(2,"Important document"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p"),e.\u0275\u0275text(4,"Hello everyone! This is some important document in A4 format, although it is made using html"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"p"),e.\u0275\u0275text(6," This shows that the component preview can work with absolutely any content: this way you can show any template, image, pdf or even iframe with your favorite site. We will put this content in the center of the portal and provide the user with control over it, and we will provide you with convenient levers to change it and process actions. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"img",12),e.\u0275\u0275elementEnd())}let D=(()=>{class i{constructor(t,o){this.previewService=t,this.alertService=o,this.index=0,this.length=2}get title(){return 0===this.index?"Transaction cert.jpg":"My face.jpg"}get previewContent(){return 0===this.index&&this.contentSample?this.contentSample:"http://marsibarsi.me/images/1x1small.jpg"}show(){this.previewService.open(this.preview||"").subscribe({complete:()=>console.info("complete")})}download(){this.alertService.open("Downloading...").subscribe()}delete(){this.alertService.open("Deleting...").subscribe()}onSwipe(t){"left"===t.direction&&(this.index=(0,p.Kiv)(this.index+1,0,this.length-1)),"right"===t.direction&&(this.index=(0,p.Kiv)(this.index-1,0,this.length-1))}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(c.iK),e.\u0275\u0275directiveInject(m.J9F))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tui-preview-example-1"]],viewQuery:function(t,o){if(1&t&&(e.\u0275\u0275viewQuery(I,5),e.\u0275\u0275viewQuery(R,5)),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.preview=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.contentSample=a.first)}},decls:8,vars:0,consts:[[1,"tui-space_bottom-2"],["tuiButton","","size","m","type","button",1,"tui-space_bottom-4",3,"click"],["preview",""],["contentSample",""],[3,"rotatable","tuiSwipe"],[3,"length","index","indexChange"],["tuiIconButton","","tuiPreviewAction","","icon","tuiIconTrash","title","Delete",3,"click"],["tuiIconButton","","tuiPreviewAction","","icon","tuiIconDownload","title","Download",3,"click"],["tuiPreviewAction","","tuiIconButton","","icon","tuiIconCloseLarge","title","Close",3,"click"],["alt","",3,"src",4,"polymorpheusOutlet"],["alt","",3,"src"],[1,"content"],["src","https://github.com/tinkoff/ng-polymorpheus/raw/master/projects/demo/assets/logo.svg",1,"polymorpheus"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275text(1,"With all features"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"button",1),e.\u0275\u0275listener("click",function(){return o.show()}),e.\u0275\u0275text(3," Show preview\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,N,8,5,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(6,b,8,0,"ng-template",null,3,e.\u0275\u0275templateRefExtractor))},directives:[u.v,v.m,M.W,f,w.i,g.v,h.Li],styles:[".content[_ngcontent-%COMP%]{font:var(--tui-font-text-xl);background-color:var(--tui-base-01);width:50rem;height:68.75rem;padding:3.75rem;box-sizing:border-box;border-radius:.75rem}.polymorpheus[_ngcontent-%COMP%]{padding:2.5rem 10.375rem}"],changeDetection:0}),i})();const V=["preview"];function L(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tui-preview",2),e.\u0275\u0275element(1,"iframe",3),e.\u0275\u0275elementStart(2,"button",4),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t).$implicit.complete()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}2&i&&e.\u0275\u0275property("rotatable",!1)("zoomable",!1)}let W=(()=>{class i{constructor(t){this.previewDialogService=t}show(){this.previewDialogService.open(this.preview||"").subscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(c.iK))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tui-preview-example-2"]],viewQuery:function(t,o){if(1&t&&e.\u0275\u0275viewQuery(V,5),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.preview=a.first)}},decls:4,vars:0,consts:[["tuiButton","","size","m","type","button",1,"tui-space_bottom-4",3,"click"],["preview",""],[3,"rotatable","zoomable"],["src","https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"content"],["tuiIconButton","","tuiPreviewAction","","icon","tuiIconCloseLarge","title","Close",3,"click"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"button",0),e.\u0275\u0275listener("click",function(){return o.show()}),e.\u0275\u0275text(1," Show simple preview\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,L,3,2,"ng-template",null,1,e.\u0275\u0275templateRefExtractor))},directives:[u.v,v.m,g.v],styles:[".content[_ngcontent-%COMP%]{width:80%;height:80%}"],changeDetection:0}),i})();var z=n(26215),B=n(25917),A=n(46797),s=n(88002),U=n(45435),Q=n(43190),j=n(39761),F=n(96736),X=n(34880),_=n(23184);const G=["preview"];function J(i,l){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",9),e.\u0275\u0275element(2,"tui-svg",10),e.\u0275\u0275elementStart(3,"div"),e.\u0275\u0275text(4,"Preview unavailable"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd())}function H(i,l){1&i&&e.\u0275\u0275element(0,"img",11),2&i&&e.\u0275\u0275property("src",l.ngIf,e.\u0275\u0275sanitizeUrl)}function K(i,l){1&i&&e.\u0275\u0275element(0,"tui-loader",12)}function Y(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tui-preview",2),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementStart(4,"tui-preview-title"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"tui-preview-pagination",3),e.\u0275\u0275listener("indexChange",function(a){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().index$$.next(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",4),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().download()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",5),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t).$implicit.complete()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,J,5,0,"ng-container",6),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275template(12,H,1,1,"img",7),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275template(14,K,1,0,"tui-loader",8),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("rotatable",!e.\u0275\u0275pipeBind1(1,8,t.contentUnavailable$))("zoomable",!e.\u0275\u0275pipeBind1(2,10,t.contentUnavailable$)&&!e.\u0275\u0275pipeBind1(3,12,t.loading$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,14,t.title$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("length",t.items.length)("index",t.index$$.value),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(11,16,t.contentUnavailable$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,18,t.imageSrc$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,20,t.loading$))}}let Z=(()=>{class i{constructor(t){this.previewDialogService=t,this.items=[{title:"some table.xlsx",hasPreview:!1},{title:"Content #2",hasPreview:!0}],this.index$$=new z.X(0),this.item$=this.index$$.pipe((0,s.U)(o=>this.items[o]),(0,U.h)(p.PcC)),this.title$=this.item$.pipe((0,s.U)(o=>o.title)),this.contentUnavailable$=this.item$.pipe((0,s.U)(o=>!o.hasPreview)),this.imageSrc$=this.item$.pipe((0,Q.w)(o=>o.hasPreview?this.emulateBackendRequest().pipe((0,j.O)("")):(0,B.of)(null))),this.loading$=this.imageSrc$.pipe((0,s.U)(o=>""===o))}show(){this.previewDialogService.open(this.preview||"").subscribe()}download(){console.info("downloading...")}emulateBackendRequest(){return(0,A.H)(1500).pipe((0,F.h)("https://ng-web-apis.github.io/dist/assets/images/web-api.svg"))}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(c.iK))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tui-preview-example-3"]],viewQuery:function(t,o){if(1&t&&e.\u0275\u0275viewQuery(G,5),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.preview=a.first)}},decls:4,vars:0,consts:[["tuiButton","","size","m","type","button",1,"tui-space_bottom-4",3,"click"],["preview",""],[3,"rotatable","zoomable"],[3,"length","index","indexChange"],["tuiIconButton","","tuiPreviewAction","","icon","tuiIconDownload","title","Download",3,"click"],["tuiIconButton","","tuiPreviewAction","","icon","tuiIconCloseLarge","title","Close",3,"click"],[4,"ngIf"],["width","512","height","512",3,"src",4,"ngIf"],["size","xl","class","t-loader",4,"ngIf"],[1,"t-container"],["src","tuiIconFileLarge",1,"t-icon"],["width","512","height","512",3,"src"],["size","xl",1,"t-loader"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"button",0),e.\u0275\u0275listener("click",function(){return o.show()}),e.\u0275\u0275text(1," Show preview\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,Y,16,22,"ng-template",null,1,e.\u0275\u0275templateRefExtractor))},directives:[u.v,v.m,f,w.i,g.v,d.O5,X.P,_.k],pipes:[d.Ov],styles:[".content[_ngcontent-%COMP%]{background-color:#f5f1f1;width:25rem;height:37.5rem;padding:2.5rem;border-radius:.75rem}.t-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:var(--tui-text-02-night)}.t-icon[_ngcontent-%COMP%]{margin-bottom:.75rem;transform:scale(4);height:5rem}.t-loader[_ngcontent-%COMP%]{width:4rem}"],changeDetection:0}),i})();var k=n(76349);function q(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275i18n(1,3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"p"),e.\u0275\u0275text(3,"As a document you can provide any content like images,"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tui-notification",4),e.\u0275\u0275text(5," The component automatically adjusts to the mobile device "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"tui-doc-example",5),e.\u0275\u0275element(7,"tui-preview-example-1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tui-doc-example",6),e.\u0275\u0275element(9,"tui-preview-example-2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"tui-doc-example",7),e.\u0275\u0275element(11,"tui-preview-example-3"),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("content",t.example1),e.\u0275\u0275advance(2),e.\u0275\u0275property("content",t.example2),e.\u0275\u0275advance(2),e.\u0275\u0275property("content",t.example3)}}function ee(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"ol",8),e.\u0275\u0275elementStart(1,"li"),e.\u0275\u0275text(2," Add "),e.\u0275\u0275elementStart(3,"code"),e.\u0275\u0275text(4,"TuiPreviewModule"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(5," to main module: "),e.\u0275\u0275element(6,"tui-doc-code",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"li"),e.\u0275\u0275text(8," Create a template with tui-preview "),e.\u0275\u0275element(9,"tui-doc-code",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"li"),e.\u0275\u0275text(11," Open the component from the "),e.\u0275\u0275elementStart(12,"code"),e.\u0275\u0275text(13,"TuiPreviewDialogService"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(14," as in the example "),e.\u0275\u0275element(15,"tui-doc-code",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("code",t.exampleModule),e.\u0275\u0275advance(3),e.\u0275\u0275property("code",t.exampleHtml),e.\u0275\u0275advance(6),e.\u0275\u0275property("code",t.exampleComponent)}}let te=(()=>{class i{constructor(){this.exampleModule=n.e(97010).then(n.t.bind(n,97010,17)),this.exampleComponent=n.e(41888).then(n.t.bind(n,41888,17)),this.exampleHtml=n.e(34336).then(n.t.bind(n,34336,17)),this.example1={TypeScript:n.e(88642).then(n.t.bind(n,88642,17)),LESS:n.e(84691).then(n.t.bind(n,84691,17)),HTML:n.e(1246).then(n.t.bind(n,1246,17))},this.example2={TypeScript:n.e(79812).then(n.t.bind(n,79812,17)),LESS:n.e(18404).then(n.t.bind(n,18404,17)),HTML:n.e(84963).then(n.t.bind(n,84963,17))},this.example3={TypeScript:n.e(42835).then(n.t.bind(n,42835,17)),LESS:n.e(74852).then(n.t.bind(n,74852,17)),HTML:n.e(79826).then(n.t.bind(n,79826,17))}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["example-preview"]],decls:3,vars:0,consts:function(){let l,t,o,a;return l=$localize`:␟241d5e97fd9620093591d9a0221c0450353983f1␟182658249076803093: Preview component allows to open modal for viewing some document and to work with it (download, zoom, rotate etc) `,t=$localize`:␟02f0674c5a9d1755c787e6879af0feb3146e4851␟921011384987579529:Full preview`,o=$localize`:␟af8d845c1070b259e6a6c86f73b63f8ed2a66aeb␟6145238317927282087:Simple mode`,a=$localize`:␟9a68584192ab89eb9c03195bc31cf2bf541d66b9␟2673400971030039835:With loading and unavailable image`,[["header","Preview","package","ADDON-PREVIEW"],["pageTab",""],["pageTab","Setup"],l,[1,"tui-space_bottom-4"],["id","default","heading",t,3,"content"],["id","simple","heading",o,3,"content"],["id","loading","heading",a,3,"content"],[1,"b-demo-steps"],["filename","app.module.ts",3,"code"],["filename","some.component.html",3,"code"],["filename","some.component.ts",3,"code"]]},template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"tui-doc-page",0),e.\u0275\u0275template(1,q,12,3,"ng-template",1),e.\u0275\u0275template(2,ee,16,3,"ng-template",2),e.\u0275\u0275elementEnd())},directives:[S.q,P.n,C.L,y.f,D,W,Z,k.c],encapsulation:2,changeDetection:0}),i})(),ne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[[d.ez,h.wq,m.fNO,c.E6,m.HiG,E.fV,m.EIu,m.dSp,p.zq,T.Bz.forChild((0,E.Ve)(te))]]}),i})()}}]);